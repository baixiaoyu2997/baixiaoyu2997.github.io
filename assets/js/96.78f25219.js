(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{527:function(t,a,v){"use strict";v.r(a);var _=v(2),e=Object(_.a)({},(function(){var t=this,a=t.$createElement,v=t._self._c||a;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h2",{attrs:{id:"介绍"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[t._v("#")]),t._v(" 介绍")]),t._v(" "),v("p",[t._v("本质是分布式数据库")]),t._v(" "),v("h2",{attrs:{id:"特点"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#特点"}},[t._v("#")]),t._v(" 特点")]),t._v(" "),v("p",[t._v("每个区块包含两个部分："),v("code",[t._v("区块头和区块体")])]),t._v(" "),v("p",[t._v("每个区块都有一个唯一的哈希标识，被称为区块哈希。")]),t._v(" "),v("p",[t._v("区块通过记录上一个区块的哈希来指向上一个区块。")]),t._v(" "),v("p",[t._v("每一个区块还有一个Merkle哈希用来确保该区块的所有交易记录无法被篡改。")]),t._v(" "),v("p",[t._v("区块链中的主要数据就是一系列交易，第一条交易通常是Coinbase交易，也就是矿工的挖矿奖励，后续交易都是用户的交易。")]),t._v(" "),v("p",[t._v("区块链的不可篡改特性是由哈希算法保证的。")]),t._v(" "),v("h3",{attrs:{id:"区块头"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#区块头"}},[t._v("#")]),t._v(" 区块头")]),t._v(" "),v("p",[t._v("记录当前区块的特征值，包含：")]),t._v(" "),v("ul",[v("li",[t._v("生成时间")]),t._v(" "),v("li",[t._v("实际数据（即区块体）的哈希")]),t._v(" "),v("li",[t._v("上一个区块的哈希")]),t._v(" "),v("li",[t._v("...")])]),t._v(" "),v("h3",{attrs:{id:"区块体"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#区块体"}},[t._v("#")]),t._v(" 区块体")]),t._v(" "),v("p",[t._v("实际的数据")]),t._v(" "),v("h3",{attrs:{id:"哈希算法"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#哈希算法"}},[t._v("#")]),t._v(" 哈希算法")]),t._v(" "),v("p",[t._v("哈希算法，又称散列算法，它是一个单向函数，可以把任意长度的输入数据转化为固定长度的输出：")]),t._v(" "),v("p",[t._v("h=H(x)")]),t._v(" "),v("p",[t._v("例如，对"),v("code",[t._v("morning")]),t._v("和"),v("code",[t._v("bitcoin")]),t._v("两个输入进行某种哈希运算，得到的结果是固定长度的数字：")]),t._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[t._v('H("morning") = c7c3169c21f1d92e9577871831d067c8\nH("bitcoin") = cd5b1e4947e304476c788cd474fb579a\n')])])]),v("p",[t._v("每个区块的哈希都是针对区块头计算的，也就是说，把区块头的各项特征值，按照顺序连接在一起，组成一个很长的字符串，再对这个字符串计算哈希。")]),t._v(" "),v("h3",{attrs:{id:"哈希碰撞"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#哈希碰撞"}},[t._v("#")]),t._v(" 哈希碰撞")]),t._v(" "),v("p",[t._v("一个安全的哈希算法还需要满足另一个条件：碰撞率低。")]),t._v(" "),v("p",[t._v("碰撞是指，如果两个输入数据不同，却恰好计算出了相同的哈希值，那么我们说发生了碰撞")]),t._v(" "),v("h3",{attrs:{id:"常用hash算法"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#常用hash算法"}},[t._v("#")]),t._v(" 常用hash算法")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",{staticStyle:{"text-align":"left"}},[t._v("哈希算法")]),t._v(" "),v("th",{staticStyle:{"text-align":"left"}},[t._v("输出长度(bit)")]),t._v(" "),v("th",{staticStyle:{"text-align":"left"}},[t._v("输出长度(字节)")])])]),t._v(" "),v("tbody",[v("tr",[v("td",{staticStyle:{"text-align":"left"}},[t._v("MD5")]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("128 bit")]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("16 bytes")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[t._v("RipeMD160")]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("160 bits")]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("20 bytes")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[t._v("SHA-1")]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("160 bits")]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("20 bytes")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[t._v("SHA-256")]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("256 bits")]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("32 bytes")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[t._v("SHA-512")]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("512 bits")]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("64 bytes")])])])]),t._v(" "),v("p",[t._v("比特币使用的哈希算法有两种：SHA-256和RipeMD160")]),t._v(" "),v("p",[t._v("比特币使用两种哈希算法，一种是对数据进行两次SHA-256计算，这种算法在比特币协议中通常被称为hash256或者dhash。")]),t._v(" "),v("p",[t._v("另一种算法是先计算SHA-256，再计算RipeMD160，这种算法在比特币协议中通常被称为hash160。")]),t._v(" "),v("h3",{attrs:{id:"merkle-hash"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#merkle-hash"}},[t._v("#")]),t._v(" Merkle Hash")]),t._v(" "),v("p",[t._v("在区块的头部，有一个Merkle Hash字段，它记录了本区块所有交易的Merkle Hash。它的作用就是保证交易记录永远无法修改。")]),t._v(" "),v("h3",{attrs:{id:"block-hash"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#block-hash"}},[t._v("#")]),t._v(" block hash")]),t._v(" "),v("p",[t._v("区块本身用block Hash--也就是区块哈希来标识。但是，一个区块自己的区块哈希并没有记录在区块头部，而是通过计算区块头部的哈希得到的。")]),t._v(" "),v("p",[t._v("区块头部的Prev Hash记录了上一个区块的Block Hash，这样可以通过Prev Hash追踪到上一个区块。由于下一个区块的Prev Hash又会指向当前区块，这样，每个区块的Prev Hash都指向自己的上一个区块，这些区块串起来就形成了区块链。")]),t._v(" "),v("p",[t._v("区块链的第一个区块（又称创世区块）并没有上一个区块，因此，它的Prev Hash被设置为"),v("code",[t._v("00000000...000")]),t._v("。")]),t._v(" "),v("h2",{attrs:{id:"p2p交易"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#p2p交易"}},[t._v("#")]),t._v(" p2p交易")]),t._v(" "),v("h3",{attrs:{id:"数字签名"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#数字签名"}},[t._v("#")]),t._v(" 数字签名")]),t._v(" "),v("p",[t._v("数字签名的三个作用：防伪造，防篡改，防抵赖。")]),t._v(" "),v("p",[t._v("比特币采用的签名算法是椭圆形曲线签名算法：ECDSA")]),t._v(" "),v("p",[t._v("比特币的私钥是一个随机的非常大的256位整数。它的上限，确切地说，比2256要稍微小一点")]),t._v(" "),v("p",[t._v("而比特币的公钥是根据私钥推算出的两个256位整数。")]),t._v(" "),v("h3",{attrs:{id:"比特币钱包"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#比特币钱包"}},[t._v("#")]),t._v(" 比特币钱包")]),t._v(" "),v("p",[t._v("比特币钱包实际上就是帮助用户管理私钥的软件，它有几种分类：")]),t._v(" "),v("ul",[v("li",[t._v("本地钱包：是把私钥保存在本地计算机硬盘上的钱包软件，如"),v("a",{attrs:{href:"https://electrum.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Electrum"),v("OutboundLink")],1),t._v("；")]),t._v(" "),v("li",[t._v("手机钱包：和本地钱包类似，但可以直接在手机上运行，如"),v("a",{attrs:{href:"https://bitpay.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Bitpay"),v("OutboundLink")],1),t._v("；")]),t._v(" "),v("li",[t._v("在线钱包：是把私钥委托给第三方在线服务商保存；")]),t._v(" "),v("li",[t._v("纸钱包：是指把私钥打印出来保存在纸上；")]),t._v(" "),v("li",[t._v("脑钱包：是指把私钥记在自己脑袋里。")])]),t._v(" "),v("h3",{attrs:{id:"交易"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#交易"}},[t._v("#")]),t._v(" 交易")]),t._v(" "),v("p",[t._v("比特币协议规定一个输出必须一次性花完,假如小明有50个比特币，那么转账给小红2个比特币，同时小明又给自己48个比特币，这48个比特币就是找零。所以，一个交易中，一个输入可以对应多个输出")]),t._v(" "),v("p",[t._v("在实际的交易中，输入比输出要稍微大一点点，这个差额就是隐含的交易费用，交易费用会算入当前区块的矿工收入中作为矿工奖励的一部分")]),t._v(" "),v("p",[v("code",[t._v("交易费用 = 输入 - 输出")])]),t._v(" "),v("h3",{attrs:{id:"交易流程"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#交易流程"}},[t._v("#")]),t._v(" 交易流程")]),t._v(" "),v("ol",[v("li",[t._v("申报交易：需要上一笔交易的Hash（从哪里获得的比特币）、本次交易双方的地址、支付方的公钥、支付方的私钥生成的数字签名")]),t._v(" "),v("li",[t._v("写入交易: 矿工把交易写入区块链")])]),t._v(" "),v("h2",{attrs:{id:"挖矿原理"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#挖矿原理"}},[t._v("#")]),t._v(" 挖矿原理")]),t._v(" "),v("p",[t._v("新的交易打包成新的区块并附加到区块链上，这类节点就是矿工。因为每打包一个新的区块，打包该区块的矿工就可以获得一笔比特币作为奖励。所以，打包新区块就被称为挖矿。")]),t._v(" "),v("p",[t._v("由于必须保证节点之间的同步，所以新区块的添加速度不能太快。所以中本聪故意让添加新区块，变得很困难。区块头里面所有的特征值都是固定的，为了让区块头产生变化，中本聪故意增加了一个随机项，叫做 Nonce。")]),t._v(" "),v("p",[t._v("比特币网络的挖矿难度值是不断变化的，它的难度值保证大约每10分钟产生一个区块，而难度值在每2015个区块调整一次：如果区块平均生成时间小于10分钟，说明全网算力增加，难度值也会增加，如果区块平均生成时间大于10分钟，说明全网算力减少，难度值也会减少。因此，难度值随着全网算力的增减会动态调整。")]),t._v(" "),v("p",[t._v("当某个矿工成功找到特定哈希的新区块后，他会立刻向全网广播该区块。其他矿工在收到新区块后，会对新区块进行验证，如果有效，就把它添加到区块链的尾部。同时说明，在本轮工作量证明的竞争中，这个矿工胜出，而其他矿工都失败了。失败的矿工会抛弃自己当前正在计算还没有算完的区块，转而开始计算下一个区块，进行下一轮工作量证明的竞争。")]),t._v(" "),v("p",[t._v('如果区块链有分叉，将看哪个分支在分叉点后面，先达到6个新区块（称为"六次确认"）。按照10分钟一个区块计算，一小时就可以确认。')]),t._v(" "),v("p",[t._v("根据比特币协议，一个区块的大小最大是 1MB，而一笔交易大概是500字节左右，因此一个区块最多可以包含2000多笔交易。矿工负责把这2000多笔交易打包在一起，组成一个区块，然后计算这个区块的哈希。")]),t._v(" "),v("h4",{attrs:{id:"矿工的收益"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#矿工的收益"}},[t._v("#")]),t._v(" 矿工的收益")]),t._v(" "),v("ol",[v("li",[t._v("挖矿奖励比特币")]),t._v(" "),v("li",[t._v("交易手续费")])]),t._v(" "),v("h2",{attrs:{id:"虚拟货币"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#虚拟货币"}},[t._v("#")]),t._v(" 虚拟货币")]),t._v(" "),v("h3",{attrs:{id:"bch"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#bch"}},[t._v("#")]),t._v(" BCH")]),t._v(" "),v("p",[t._v("由于比特币协议规定，平均10分钟诞生一个区块，导致处理交易速度有限。2017年8月区块链发生了一次分叉，诞生了一个新协议，称为bitcoin Cash（简称BCH）。这种新货币其他方面都与比特币一致，就是每个区块的大小从 1MB 增加到了 8MB，因此处理速度提升了8倍，手续费也低得多。该协议是对原有区块链的分叉，因此当时持有比特币的人，等于一人获赠了一份同样数量的 BCH。")]),t._v(" "),v("h2",{attrs:{id:"问题"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#问题"}},[t._v("#")]),t._v(" 问题")]),t._v(" "),v("h3",{attrs:{id:"为什么比特币能当钱用"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#为什么比特币能当钱用"}},[t._v("#")]),t._v(" 为什么比特币能当钱用？")]),t._v(" "),v("ol",[v("li",[t._v("不会被偷。没有私钥无法获取其他人的钱")]),t._v(" "),v("li",[t._v("无法伪造。因为区块链技术可信性高")]),t._v(" "),v("li",[t._v("无法大批生成，因为每4年减半所以不会导致通货膨胀")])])])}),[],!1,null,null,null);a.default=e.exports}}]);