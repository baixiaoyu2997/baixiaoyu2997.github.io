<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Shell学习随笔 | L.Rain的博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    <meta name="description" content="L.Rain的博客">
    <link rel="preload" href="/assets/css/0.styles.0b94e76f.css" as="style"><link rel="preload" href="/assets/js/app.316bf45a.js" as="script"><link rel="preload" href="/assets/js/7.8545d9f8.js" as="script"><link rel="preload" href="/assets/js/40.1e4505ba.js" as="script"><link rel="prefetch" href="/assets/js/1.f6e0f07f.js"><link rel="prefetch" href="/assets/js/10.4a6afb4e.js"><link rel="prefetch" href="/assets/js/100.aa785a0c.js"><link rel="prefetch" href="/assets/js/101.df8cca33.js"><link rel="prefetch" href="/assets/js/102.d026aace.js"><link rel="prefetch" href="/assets/js/103.a72c41fd.js"><link rel="prefetch" href="/assets/js/104.73207c12.js"><link rel="prefetch" href="/assets/js/105.966e8bb4.js"><link rel="prefetch" href="/assets/js/106.e143a4a3.js"><link rel="prefetch" href="/assets/js/107.6894cea9.js"><link rel="prefetch" href="/assets/js/108.04e39338.js"><link rel="prefetch" href="/assets/js/109.34286885.js"><link rel="prefetch" href="/assets/js/11.d13437d4.js"><link rel="prefetch" href="/assets/js/110.9254ef72.js"><link rel="prefetch" href="/assets/js/111.85c975f3.js"><link rel="prefetch" href="/assets/js/112.c8365a02.js"><link rel="prefetch" href="/assets/js/113.f892e559.js"><link rel="prefetch" href="/assets/js/114.5a771555.js"><link rel="prefetch" href="/assets/js/115.480cbddd.js"><link rel="prefetch" href="/assets/js/116.b334980a.js"><link rel="prefetch" href="/assets/js/117.90d644b5.js"><link rel="prefetch" href="/assets/js/12.7d7635cb.js"><link rel="prefetch" href="/assets/js/13.919964bf.js"><link rel="prefetch" href="/assets/js/14.5ff823ae.js"><link rel="prefetch" href="/assets/js/15.ab97f8d4.js"><link rel="prefetch" href="/assets/js/16.3224b1f5.js"><link rel="prefetch" href="/assets/js/17.ae7288c3.js"><link rel="prefetch" href="/assets/js/18.28a8a32f.js"><link rel="prefetch" href="/assets/js/19.1f4bcec7.js"><link rel="prefetch" href="/assets/js/20.8549b169.js"><link rel="prefetch" href="/assets/js/21.d98b63af.js"><link rel="prefetch" href="/assets/js/22.7f14027b.js"><link rel="prefetch" href="/assets/js/23.ebc89211.js"><link rel="prefetch" href="/assets/js/24.5e46ac0d.js"><link rel="prefetch" href="/assets/js/25.856561dc.js"><link rel="prefetch" href="/assets/js/26.a8390eff.js"><link rel="prefetch" href="/assets/js/27.9607ceb1.js"><link rel="prefetch" href="/assets/js/28.20478e43.js"><link rel="prefetch" href="/assets/js/29.efb7a7f4.js"><link rel="prefetch" href="/assets/js/3.abcd40dc.js"><link rel="prefetch" href="/assets/js/30.92f0061a.js"><link rel="prefetch" href="/assets/js/31.a6ce17d0.js"><link rel="prefetch" href="/assets/js/32.adac764d.js"><link rel="prefetch" href="/assets/js/33.54d6328e.js"><link rel="prefetch" href="/assets/js/34.946f48b5.js"><link rel="prefetch" href="/assets/js/35.7cfc2678.js"><link rel="prefetch" href="/assets/js/36.fcedd98a.js"><link rel="prefetch" href="/assets/js/37.12cfe81a.js"><link rel="prefetch" href="/assets/js/38.2efcb780.js"><link rel="prefetch" href="/assets/js/39.c2bf8067.js"><link rel="prefetch" href="/assets/js/4.037891d1.js"><link rel="prefetch" href="/assets/js/41.36e8c091.js"><link rel="prefetch" href="/assets/js/42.58607fc4.js"><link rel="prefetch" href="/assets/js/43.ce912fdb.js"><link rel="prefetch" href="/assets/js/44.3d965d4d.js"><link rel="prefetch" href="/assets/js/45.28ac6481.js"><link rel="prefetch" href="/assets/js/46.514caf43.js"><link rel="prefetch" href="/assets/js/47.c0ba7fd8.js"><link rel="prefetch" href="/assets/js/48.5d118edd.js"><link rel="prefetch" href="/assets/js/49.1d233bd5.js"><link rel="prefetch" href="/assets/js/5.023c6154.js"><link rel="prefetch" href="/assets/js/50.8938f5a2.js"><link rel="prefetch" href="/assets/js/51.03ead5b8.js"><link rel="prefetch" href="/assets/js/52.de32bee5.js"><link rel="prefetch" href="/assets/js/53.85453b03.js"><link rel="prefetch" href="/assets/js/54.1bc83aa3.js"><link rel="prefetch" href="/assets/js/55.1e5355a5.js"><link rel="prefetch" href="/assets/js/56.5c3f0b22.js"><link rel="prefetch" href="/assets/js/57.153c9e8c.js"><link rel="prefetch" href="/assets/js/58.7b8a282c.js"><link rel="prefetch" href="/assets/js/59.69f1aa7c.js"><link rel="prefetch" href="/assets/js/6.118b5a7a.js"><link rel="prefetch" href="/assets/js/60.6b46dd9b.js"><link rel="prefetch" href="/assets/js/61.52e5798d.js"><link rel="prefetch" href="/assets/js/62.091d01c0.js"><link rel="prefetch" href="/assets/js/63.3146de81.js"><link rel="prefetch" href="/assets/js/64.50783544.js"><link rel="prefetch" href="/assets/js/65.4d08f0b0.js"><link rel="prefetch" href="/assets/js/66.be0cee92.js"><link rel="prefetch" href="/assets/js/67.8e6a5bd6.js"><link rel="prefetch" href="/assets/js/68.033d8048.js"><link rel="prefetch" href="/assets/js/69.88ea6b5f.js"><link rel="prefetch" href="/assets/js/70.20f973bf.js"><link rel="prefetch" href="/assets/js/71.72c7d2aa.js"><link rel="prefetch" href="/assets/js/72.755bdd8b.js"><link rel="prefetch" href="/assets/js/73.fcc7badf.js"><link rel="prefetch" href="/assets/js/74.1b0e298c.js"><link rel="prefetch" href="/assets/js/75.53e6f730.js"><link rel="prefetch" href="/assets/js/76.c4d70b45.js"><link rel="prefetch" href="/assets/js/77.6e9e989d.js"><link rel="prefetch" href="/assets/js/78.3977589c.js"><link rel="prefetch" href="/assets/js/79.1e5b3db5.js"><link rel="prefetch" href="/assets/js/8.51c6e2dd.js"><link rel="prefetch" href="/assets/js/80.6a8d7904.js"><link rel="prefetch" href="/assets/js/81.3a2e638c.js"><link rel="prefetch" href="/assets/js/82.cf2ef2b8.js"><link rel="prefetch" href="/assets/js/83.d3361610.js"><link rel="prefetch" href="/assets/js/84.f8c27ed2.js"><link rel="prefetch" href="/assets/js/85.6703b28c.js"><link rel="prefetch" href="/assets/js/86.ea2afaf3.js"><link rel="prefetch" href="/assets/js/87.5b9b03cb.js"><link rel="prefetch" href="/assets/js/88.ea1ac26e.js"><link rel="prefetch" href="/assets/js/89.f7180e69.js"><link rel="prefetch" href="/assets/js/9.50140b23.js"><link rel="prefetch" href="/assets/js/90.97c747c4.js"><link rel="prefetch" href="/assets/js/91.4412a7cb.js"><link rel="prefetch" href="/assets/js/92.5639b5e1.js"><link rel="prefetch" href="/assets/js/93.ae5e4151.js"><link rel="prefetch" href="/assets/js/94.e6948f62.js"><link rel="prefetch" href="/assets/js/95.7c787c47.js"><link rel="prefetch" href="/assets/js/96.f5440a1b.js"><link rel="prefetch" href="/assets/js/97.2192c43a.js"><link rel="prefetch" href="/assets/js/98.2a20cfe0.js"><link rel="prefetch" href="/assets/js/99.e701ce0e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0b94e76f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-meteorlxy"><header class="header" style="background-size:cover;background-repeat:no-repeat;background-position:center;background-attachment:scroll;background-image:url(https://picsum.photos/1920/250.webp);" data-v-7a046aea><div data-v-e4145d0a data-v-7a046aea><nav class="navbar" data-v-e4145d0a><div class="container" data-v-e4145d0a><a href="/" class="router-link-active" data-v-e4145d0a><span class="navbar-site-name" data-v-e4145d0a>
          L.Rain的博客
        </span></a> <div class="navbar-toggler" data-v-e4145d0a><svg class="icon" style="font-size:1.2em;" data-v-e4145d0a data-v-e4145d0a><title data-v-e4145d0a data-v-e4145d0a>menu</title><use xlink:href="#icon-menu" data-v-e4145d0a data-v-e4145d0a></use></svg></div> <div class="navbar-links" data-v-e4145d0a><a href="/" class="navbar-link" data-v-e4145d0a>
            主页
          </a><a href="/posts/" class="navbar-link router-link-active" data-v-e4145d0a>
            分类
          </a><a href="https://github.com/baixiaoyu2997" target="_blank" rel="noopener noreferrer" class="navbar-link" data-v-e4145d0a><span data-v-e4145d0a>Github</span> <span data-v-e4145d0a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div></div></nav> <div class="navbar-holder" style="display:none;" data-v-e4145d0a></div></div> <div class="banner" data-v-98d6aa8c data-v-7a046aea data-v-7a046aea><div class="container" data-v-98d6aa8c><div class="center" data-v-98d6aa8c><h1 data-v-98d6aa8c data-v-7a046aea>
          Shell学习随笔
        </h1></div></div></div></header> <div class="container clearfix show-aside" data-v-4dd605a1 data-v-4dd605a1><main class="main" data-v-4dd605a1><div class="post" data-v-4dd605a1 data-v-4dd605a1><section class="post-meta main-div" data-v-4e23451f><section class="post-date clearfix" data-v-4e23451f><span class="create-date" data-v-4e23451f>
      发布时间 : 2021-05-10
    </span> <span class="update-date" data-v-4e23451f>
      最后修改 : 2021-05-12
    </span></section> <section class="post-links" data-v-4e23451f><a href="/posts/2021/04/12/%E5%89%8D%E7%AB%AF%E5%9B%A2%E9%98%9F%E5%BB%BA%E8%AE%BE.html" class="post-link" data-v-4e23451f>
      上一篇 : 前端团队建设
    </a> <a href="/posts/2021/05/10/linux%E5%AD%A6%E4%B9%A0%E9%9A%8F%E7%AC%94.html" class="post-link" data-v-4e23451f>
      下一篇 : Linux学习随笔
    </a></section></section> <article class="main-div"><div class="post-content content content__default"><h2 id="shell"><a href="#shell" class="header-anchor">#</a> Shell</h2> <h3 id="shell是什么"><a href="#shell是什么" class="header-anchor">#</a> Shell是什么？</h3> <p>Shell是指一种应用程序，这个应用程序提供了一个界面，用户通过这个界面访问操作系统内核的服务, Shell脚本（shell script），是一种为Shell编写的脚本程序。我们经常说的shell通常都是指shell脚本。</p> <h3 id="shell和base"><a href="#shell和base" class="header-anchor">#</a> Shell和Base</h3> <p>sh: Bourne shell，POSIX（Portable Operating System Interface）标准的shell解释器，它的二进制文件路径通常是/bin/sh</p> <p>bash: Bash是Bourne shell的替代品，属GNU Project，二进制文件路径通常是/bin/bash</p> <h3 id="指定解释器"><a href="#指定解释器" class="header-anchor">#</a> 指定解释器</h3> <p>shell的第一行代码通常是<code>#!/usr/bin/env bash</code>	,<code>#!</code>是一个约定的标记，它告诉系统这个脚本需要什么解释器来执行 /env 是系统的PATH目录中查找</p> <h3 id="变量"><a href="#变量" class="header-anchor">#</a> 变量</h3> <p>定义变量时，<code>=</code>号前后不能有空格：<code>my_name='jack'</code>,可以用单引号，也可以用双引号。</p> <p>单引号字符串的限制：</p> <ul><li>单引号里的任何字符都会原样输出，单引号字符串中的变量是无效的</li> <li>单引号字串中不能出现单引号（对单引号使用转义符后也不行）</li></ul> <p>双引号：</p> <ul><li>双引号里可以有变量</li> <li>双引号里可以出现转义字符</li></ul> <h4 id="使用已经定义过的变量"><a href="#使用已经定义过的变量" class="header-anchor">#</a> 使用已经定义过的变量</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token variable">$my_name</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${my_name}</span>
</code></pre></div><p>变量名外面的花括号是可选的，加不加都行,建议使用第二种形式</p> <h4 id="变量加双引号问题"><a href="#变量加双引号问题" class="header-anchor">#</a> 变量加双引号问题</h4> <p>大多数时候，虽然可以不使用括起字符串和字符串变量的双引号，但这并不是好主意。为什么呢？因为如果环境变量中恰巧有一个空格或制表键，bash 将无法分辨，从而无法正常工作。这里有一个错误的比较示例：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$myvar</span> <span class="token operator">=</span> <span class="token string">&quot;foo bar oni&quot;</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
     <span class="token builtin class-name">echo</span> <span class="token string">&quot;yes&quot;</span>
<span class="token keyword">fi</span>
</code></pre></div><p>如果 myvar 等于 &quot;foo&quot;，则代码将按预想工作，不进行打印。但是，如果 myvar 等于 &quot;foo bar oni&quot;，则代码将因以下错误失败：<code>[: too many arguments</code></p> <p>在这种情况下，&quot;$myvar&quot;（等于 &quot;foo bar oni&quot;）中的空格迷惑了 bash。bash 扩展 &quot;$myvar&quot; 之后，代码如下：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span> foo bar oni <span class="token operator">=</span> <span class="token string">&quot;foo bar oni&quot;</span> <span class="token punctuation">]</span>
</code></pre></div><p>因为环境变量没放在双引号中，所以 bash 认为方括号中的自变量过多。可以用双引号将字符串自变量括起来消除该问题。请记住，如果养成将所有字符串自变量用双引号括起的习惯，将除去很多类似的编程错误。</p> <h3 id="字符串"><a href="#字符串" class="header-anchor">#</a> 字符串</h3> <ol><li>获取字符串长度：<code>echo ${#my_name}</code></li> <li>截取字符串: <code>echo ${my_name:0:2}</code></li></ol> <h3 id="数组"><a href="#数组" class="header-anchor">#</a> 数组</h3> <p>shell中使用<code>()</code>来表述数组，数组元素用空格分割：<code>name=(name1 name2 name3)</code>,还可以通过索引来设置数组成员：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#可以不使用连续的下标，而且下标的范围没有限制</span>
ary<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>name1
ary<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>name2
ary<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span>name3
</code></pre></div><h4 id="使用数组"><a href="#使用数组" class="header-anchor">#</a> 使用数组</h4> <p>可以通过<code>${array[下标]}</code>来使用，使用<code>@</code>获取所有数组元素：<code>${name[@]}</code></p> <h4 id="获取数组长度"><a href="#获取数组长度" class="header-anchor">#</a> 获取数组长度</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 取得数组元素的个数</span>
<span class="token assign-left variable">length</span><span class="token operator">=</span><span class="token variable">${<span class="token operator">#</span>name<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$length</span>
<span class="token comment"># 或者</span>
<span class="token assign-left variable">length</span><span class="token operator">=</span><span class="token variable">${<span class="token operator">#</span>name<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$length</span>
<span class="token comment"># 取得数组单个元素的长度</span>
<span class="token assign-left variable">lengthn</span><span class="token operator">=</span><span class="token variable">${<span class="token operator">#</span>name<span class="token punctuation">[</span>n<span class="token punctuation">]</span>}</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$length</span>
</code></pre></div><h3 id="注释"><a href="#注释" class="header-anchor">#</a> 注释</h3> <p>以<code>#</code>开头便是注释，shell没有多行注释，只能每一行都加<code>#</code></p> <h3 id="for循环"><a href="#for循环" class="header-anchor">#</a> for循环</h3> <h4 id="第一种写法"><a href="#第一种写法" class="header-anchor">#</a> 第一种写法</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">))</span></span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token function">touch</span> test_<span class="token variable">${i}</span>.txt
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;shell很简单&quot;</span> <span class="token operator">&gt;&gt;</span> test_<span class="token variable">${i}</span>.txt
<span class="token keyword">done</span>
</code></pre></div><h4 id="第二种写法"><a href="#第二种写法" class="header-anchor">#</a> 第二种写法</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">for</span> <span class="token for-or-select variable">index</span> <span class="token keyword">in</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;index=&quot;</span><span class="token variable">$index</span>
<span class="token keyword">done</span>
</code></pre></div><h3 id="if-else"><a href="#if-else" class="header-anchor">#</a> if  else</h3> <ul><li>if else写法</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token shebang important">#!/bin/sh</span>
<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">==</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>    <span class="token comment"># if与[ ]有空格，&quot;[&quot;  、 &quot;]&quot;与字符都有空格</span>
<span class="token keyword">then</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;a is equal to b&quot;</span>
<span class="token keyword">else</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;a is not equal to b&quot;</span>
<span class="token keyword">fi</span>
</code></pre></div><ul><li>if … elif … fi 语句可以对多个条件进行判断</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token shebang important">#!/bin/sh</span>
<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">==</span> <span class="token variable">$b</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;a is equal to b&quot;</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -gt <span class="token variable">$b</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;a is greater than b&quot;</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -lt <span class="token variable">$b</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;a is less than b&quot;</span>
<span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;None of the condition met&quot;</span>
<span class="token keyword">fi</span>
</code></pre></div><p>常用判断：
-e 文件是否存在</p> <p>-f  文件是否是普通文件（不是目录、设备文件、链接文件）</p> <p>-s  表示文件大小不为0</p> <p>-d 表示文件是否是目录</p> <p>-b 表示是块设备（光驱、软盘等）</p> <p>-c  表示是字符设备（键盘、声卡等）</p> <p>-p 表示是管道</p> <p>-h 表示是符号链接</p> <p>-S 表示是否是socket
-n 如果判断的string长度不为0则为真
-r、-w、-x表示文件是否有可读、可写、可执行权限（指运行这个测试命令的用户）</p> <p>f1 -nt f2      f1是否比f2新（new than）</p> <p>f1 -ot f2      f1是否比f2旧（old than）</p> <p>f1 -ef f2      f1和f2是否是相同文件的硬链接</p> <h3 id="while-语句"><a href="#while-语句" class="header-anchor">#</a> while 语句</h3> <p>while循环用于不断执行一系列命令，也用于从输入文件中读取数据；命令通常为测试条件。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">int</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token keyword">while</span><span class="token variable"><span class="token punctuation">((</span> $int<span class="token operator">&lt;=</span><span class="token number">5</span> <span class="token punctuation">))</span></span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token variable">$int</span>
    <span class="token builtin class-name">let</span> <span class="token string">&quot;int++&quot;</span>
<span class="token keyword">done</span>
</code></pre></div><h3 id="特殊符号"><a href="#特殊符号" class="header-anchor">#</a> 特殊符号</h3> <ol><li><code>&lt;</code>表示输入重定向</li> <li><code>&gt;</code>表示输出重定向</li></ol> <h3 id="shell结合系统命令"><a href="#shell结合系统命令" class="header-anchor">#</a> Shell结合系统命令</h3> <p>sh脚本结合系统命令便有了强大的威力，在字符处理领域，有grep、awk、sed三剑客，grep负责找出特定的行，awk能将行拆分成多个字段，sed则可以实现更新插入删除等写操作。</p> <h3 id="脚本暂停"><a href="#脚本暂停" class="header-anchor">#</a> 脚本暂停</h3> <p><code>read -p &quot;Press any key to continue.&quot; var</code></p> <h3 id="shell传递参数"><a href="#shell传递参数" class="header-anchor">#</a> Shell传递参数</h3> <ul><li>脚本内获取参数的格式为：$n。n 代表一个数字，1 为执行脚本的第一个参数，2 为执行脚本的第二个参数，以此类推,其中 $0 为执行的文件名</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>deploy<span class="token punctuation">.</span>sh first
<span class="token comment">// deploy.sh</span>
$<span class="token number">1</span><span class="token operator">=</span>first
</code></pre></div><h3 id="管道符"><a href="#管道符" class="header-anchor">#</a> <code>|</code>管道符</h3> <p>管道符用来把上一个指令的正确结果传递给下一个指令做为输入</p> <h2 id="windows"><a href="#windows" class="header-anchor">#</a> windows</h2> <ol><li>删除文件夹 rd /S /Q &lt;文件夹&gt;</li></ol> <h3 id="查询占用指定端口进程的pid"><a href="#查询占用指定端口进程的pid" class="header-anchor">#</a> 查询占用指定端口进程的PID</h3> <h4 id="window"><a href="#window" class="header-anchor">#</a> window</h4> <p>打开cmd命令行，输入netstat -ano|findstr 8080(指定端口号)</p> <p>最后一列即为占用该端口的进程的PID</p> <h4 id="mac"><a href="#mac" class="header-anchor">#</a> mac</h4> <p><code>lsof -i:3000</code></p> <h3 id="kill指定pid的进程"><a href="#kill指定pid的进程" class="header-anchor">#</a> KILL指定PID的进程</h3> <p>紧接着在命令行输入taskkill /pid 21172（PID参数） -f</p> <h3 id="脚本退出"><a href="#脚本退出" class="header-anchor">#</a> 脚本退出</h3> <p><code>exit 1</code>,可以是0~255的数字</p> <div class="language- extra-class"><pre class="language-text"><code>0----------------命令运行成功
1----------------通知未知错误
2----------------误用shell命令
126-------------命令不可执行
127-------------没有找到命令
128-------------无效退出参数
128+x-----------linux信号x的严重错误
130--------------命令通过Ctrl+C终止
255--------------退出状态码越界
</code></pre></div><h2 id="查看文件夹列表"><a href="#查看文件夹列表" class="header-anchor">#</a> 查看文件夹列表</h2> <p><code>ls</code>，参数：</p> <ul><li><code>-a</code>，查看包括隐藏文件夹</li></ul></div></article> <section class="post-meta main-div" data-v-4e23451f><section class="post-date clearfix" data-v-4e23451f><span class="create-date" data-v-4e23451f>
      发布时间 : 2021-05-10
    </span> <span class="update-date" data-v-4e23451f>
      最后修改 : 2021-05-12
    </span></section> <section class="post-links" data-v-4e23451f><a href="/posts/2021/04/12/%E5%89%8D%E7%AB%AF%E5%9B%A2%E9%98%9F%E5%BB%BA%E8%AE%BE.html" class="post-link" data-v-4e23451f>
      上一篇 : 前端团队建设
    </a> <a href="/posts/2021/05/10/linux%E5%AD%A6%E4%B9%A0%E9%9A%8F%E7%AC%94.html" class="post-link" data-v-4e23451f>
      下一篇 : Linux学习随笔
    </a></section></section> <div id="post-comments" class="main-div"><!----></div></div></main> <aside class="aside" data-v-4dd605a1><div class="info-card main-div" data-v-9d847660 data-v-4dd605a1><div class="info-card-header" data-v-9d847660><img src="https://blog-pic.oss-cn-beijing.aliyuncs.com/avatar.webp" alt="L.Rain" class="info-avatar" data-v-9d847660></div> <div class="info-card-body" data-v-9d847660><section class="info-nickname" data-v-9d847660>
      L.Rain
    </section> <section class="info-desc" data-v-9d847660>真实、自由、宽容</section> <section class="info-contact" data-v-9d847660><section data-v-9d847660><span title="ChengDu City, China" data-v-9d847660 data-v-9d847660><svg class="icon" style="font-size:1em;" data-v-9d847660 data-v-9d847660><title data-v-9d847660 data-v-9d847660>ChengDu City, China</title><use xlink:href="#icon-location" data-v-9d847660 data-v-9d847660></use></svg><span class="info-text" data-v-9d847660 data-v-9d847660>
          ChengDu City, China
        </span></span></section> <section data-v-9d847660><span title="ChengDu YeeYun Technology" data-v-9d847660 data-v-9d847660><svg class="icon" style="font-size:1em;" data-v-9d847660 data-v-9d847660><title data-v-9d847660 data-v-9d847660>ChengDu YeeYun Technology</title><use xlink:href="#icon-organization" data-v-9d847660 data-v-9d847660></use></svg><span class="info-text" data-v-9d847660 data-v-9d847660>
          ChengDu YeeYun Technology
        </span></span></section> <section data-v-9d847660><a href="mailto:bxy2997@sina.com" title="bxy2997@sina.com" data-v-9d847660 data-v-9d847660><svg class="icon" style="font-size:1em;" data-v-9d847660 data-v-9d847660><title data-v-9d847660 data-v-9d847660>bxy2997@sina.com</title><use xlink:href="#icon-email" data-v-9d847660 data-v-9d847660></use></svg><span class="info-text" data-v-9d847660 data-v-9d847660>
          bxy2997@sina.com
        </span></a></section></section></div> <div class="info-card-footer" data-v-9d847660><section class="info-sns clearfix" data-v-9d847660><a href="https://github.com/baixiaoyu2997" target="_blank" class="sns-link" data-v-9d847660><span title="GitHub: L.Rain" class="sns-icon" data-v-9d847660 data-v-9d847660><svg class="icon" style="font-size:1.5em;" data-v-9d847660 data-v-9d847660><title data-v-9d847660 data-v-9d847660>GitHub: L.Rain</title><use xlink:href="#icon-github" data-v-9d847660 data-v-9d847660></use></svg></span></a><a href="https://weibo.com/1504398495" target="_blank" class="sns-link" data-v-9d847660><span title="新浪微博: 白晓宇V" class="sns-icon" data-v-9d847660 data-v-9d847660><svg class="icon" style="font-size:1.5em;" data-v-9d847660 data-v-9d847660><title data-v-9d847660 data-v-9d847660>新浪微博: 白晓宇V</title><use xlink:href="#icon-weibo" data-v-9d847660 data-v-9d847660></use></svg></span></a></section></div></div> <div class="post-nav-card main-div" style="position:relative;top:0;width:0px;" data-v-4dd605a1><div class="post-nav-contents"><svg class="icon"><title>book</title><use xlink:href="#icon-book"></use></svg> <span>文章目录</span> <div class="post-nav-toc"><ul><li><a href="/posts/2021/05/10/shell%E5%AD%A6%E4%B9%A0%E9%9A%8F%E7%AC%94.html#shell">Shell</a><ul><li><a href="/posts/2021/05/10/shell%E5%AD%A6%E4%B9%A0%E9%9A%8F%E7%AC%94.html#shell是什么">Shell是什么？</a></li><li><a href="/posts/2021/05/10/shell%E5%AD%A6%E4%B9%A0%E9%9A%8F%E7%AC%94.html#shell和base">Shell和Base</a></li><li><a href="/posts/2021/05/10/shell%E5%AD%A6%E4%B9%A0%E9%9A%8F%E7%AC%94.html#指定解释器">指定解释器</a></li><li><a href="/posts/2021/05/10/shell%E5%AD%A6%E4%B9%A0%E9%9A%8F%E7%AC%94.html#变量">变量</a></li><li><a href="/posts/2021/05/10/shell%E5%AD%A6%E4%B9%A0%E9%9A%8F%E7%AC%94.html#字符串">字符串</a></li><li><a href="/posts/2021/05/10/shell%E5%AD%A6%E4%B9%A0%E9%9A%8F%E7%AC%94.html#数组">数组</a></li><li><a href="/posts/2021/05/10/shell%E5%AD%A6%E4%B9%A0%E9%9A%8F%E7%AC%94.html#注释">注释</a></li><li><a href="/posts/2021/05/10/shell%E5%AD%A6%E4%B9%A0%E9%9A%8F%E7%AC%94.html#for循环">for循环</a></li><li><a href="/posts/2021/05/10/shell%E5%AD%A6%E4%B9%A0%E9%9A%8F%E7%AC%94.html#if-else">if  else</a></li><li><a href="/posts/2021/05/10/shell%E5%AD%A6%E4%B9%A0%E9%9A%8F%E7%AC%94.html#while-语句">while 语句</a></li><li><a href="/posts/2021/05/10/shell%E5%AD%A6%E4%B9%A0%E9%9A%8F%E7%AC%94.html#特殊符号">特殊符号</a></li><li><a href="/posts/2021/05/10/shell%E5%AD%A6%E4%B9%A0%E9%9A%8F%E7%AC%94.html#shell结合系统命令">Shell结合系统命令</a></li><li><a href="/posts/2021/05/10/shell%E5%AD%A6%E4%B9%A0%E9%9A%8F%E7%AC%94.html#脚本暂停">脚本暂停</a></li><li><a href="/posts/2021/05/10/shell%E5%AD%A6%E4%B9%A0%E9%9A%8F%E7%AC%94.html#shell传递参数">Shell传递参数</a></li><li><a href="/posts/2021/05/10/shell%E5%AD%A6%E4%B9%A0%E9%9A%8F%E7%AC%94.html#管道符">|管道符</a></li></ul></li><li><a href="/posts/2021/05/10/shell%E5%AD%A6%E4%B9%A0%E9%9A%8F%E7%AC%94.html#windows">windows</a><ul><li><a href="/posts/2021/05/10/shell%E5%AD%A6%E4%B9%A0%E9%9A%8F%E7%AC%94.html#查询占用指定端口进程的pid">查询占用指定端口进程的PID</a></li><li><a href="/posts/2021/05/10/shell%E5%AD%A6%E4%B9%A0%E9%9A%8F%E7%AC%94.html#kill指定pid的进程">KILL指定PID的进程</a></li><li><a href="/posts/2021/05/10/shell%E5%AD%A6%E4%B9%A0%E9%9A%8F%E7%AC%94.html#脚本退出">脚本退出</a></li></ul></li><li><a href="/posts/2021/05/10/shell%E5%AD%A6%E4%B9%A0%E9%9A%8F%E7%AC%94.html#查看文件夹列表">查看文件夹列表</a></li></ul></div></div> <div class="post-nav-comments"><svg class="icon"><title>comment</title><use xlink:href="#icon-comment"></use></svg> <a href="/posts/2021/05/10/shell%E5%AD%A6%E4%B9%A0%E9%9A%8F%E7%AC%94.html#post-comments">
      评论
    </a></div></div></aside></div> <footer class="footer" data-v-1375e54c><p class="footer-sns-links" data-v-1375e54c><a href="https://github.com/baixiaoyu2997" target="_blank" class="sns-link" data-v-1375e54c><span title="GitHub: L.Rain" class="sns-icon" data-v-1375e54c data-v-1375e54c><svg class="icon" style="font-size:25px;" data-v-1375e54c data-v-1375e54c><title data-v-1375e54c data-v-1375e54c>GitHub: L.Rain</title><use xlink:href="#icon-github" data-v-1375e54c data-v-1375e54c></use></svg></span></a><a href="https://weibo.com/1504398495" target="_blank" class="sns-link" data-v-1375e54c><span title="新浪微博: 白晓宇V" class="sns-icon" data-v-1375e54c data-v-1375e54c><svg class="icon" style="font-size:25px;" data-v-1375e54c data-v-1375e54c><title data-v-1375e54c data-v-1375e54c>新浪微博: 白晓宇V</title><use xlink:href="#icon-weibo" data-v-1375e54c data-v-1375e54c></use></svg></span></a></p> <p class="footer-text" data-v-1375e54c><span data-v-1375e54c>Powered by </span> <a href="https://github.com/vuejs/vuepress" target="_blank" data-v-1375e54c>
      VuePress
    </a> <span data-v-1375e54c> | </span> <a href="https://github.com/meteorlxy/vuepress-theme-meteorlxy" target="_blank" data-v-1375e54c>
        meteorlxy
      </a></p> <!----></footer></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.316bf45a.js" defer></script><script src="/assets/js/7.8545d9f8.js" defer></script><script src="/assets/js/40.1e4505ba.js" defer></script>
  </body>
</html>
